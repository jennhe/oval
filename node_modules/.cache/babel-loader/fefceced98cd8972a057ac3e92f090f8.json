{"ast":null,"code":"import _asyncToGenerator from\"/Users/jenniferhe/Documents/GitHub/oval/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/jenniferhe/Documents/GitHub/oval/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"/Users/jenniferhe/Documents/GitHub/oval/node_modules/@babel/runtime/regenerator/index.js\";import\"./card.css\";import{PButton,SButton,TButton}from\"../button/button\";import\"react-toastify/dist/ReactToastify.css\";import Card from\"react-bootstrap/Card\";import Form from\"react-bootstrap/Form\";import{Container,InputGroup,FormControl}from\"react-bootstrap\";import React,{useState}from\"react\";import{create}from\"ipfs-http-client\";import{ToastContainer,toast}from'react-toastify';import{FinnCard}from\"./mint_result\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var client=create(\"https://ipfs.infura.io:5001/api/v0\");global.Buffer=global.Buffer||require(\"buffer\").Buffer;export function FormCard(props){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),title=_useState2[0],setTitle=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),description=_useState4[0],setDescription=_useState4[1];var _useState5=useState(0),_useState6=_slicedToArray(_useState5,2),quantity=_useState6[0],setQuantity=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),address=_useState8[0],setAddress=_useState8[1];var _useState9=useState(null),_useState10=_slicedToArray(_useState9,2),file=_useState10[0],setFile=_useState10[1];//file info for latest image\nvar _useState11=useState([]),_useState12=_slicedToArray(_useState11,2),ipfs_url=_useState12[0],setIPFS=_useState12[1];//array of ipfs image urls\nvar _useState13=useState(true),_useState14=_slicedToArray(_useState13,2),homeView=_useState14[0],setHomeView=_useState14[1];var _useState15=useState(\"./ipfs image.png\"),_useState16=_slicedToArray(_useState15,2),image_path=_useState16[0],setPath=_useState16[1];// const [ipfs_url, setIPFS] = useState(\"https://ipfs.infura.io:dummyURL\")\nvar _useState17=useState(\"dummy-hash\"),_useState18=_slicedToArray(_useState17,2),hash=_useState18[0],setHash=_useState18[1];//will come from backend eventually\nvar retrieveFile=function retrieveFile(e){var data=e.target.files[0];var reader=new window.FileReader();reader.readAsArrayBuffer(data);reader.onloadend=function(){setFile(Buffer(reader.result));};e.preventDefault();};var handleSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){var created,url;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:// console.log(`about to submit nft form. props = ${props}, props.setHome = ${props.setHome}.`)\ne.preventDefault();_context.prev=1;_context.next=4;return client.add(file);case 4:created=_context.sent;url=\"https://ipfs.infura.io/ipfs/\".concat(created.path);console.log(url);setIPFS(url);toast.success(\"NFT Minted!\");setHomeView(false);_context.next=15;break;case 12:_context.prev=12;_context.t0=_context[\"catch\"](1);console.log(_context.t0.message);case 15:case\"end\":return _context.stop();}}},_callee,null,[[1,12]]);}));return function handleSubmit(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsx(\"div\",{className:\"all-card\",children:homeView?/*#__PURE__*/_jsxs(Card,{children:[/*#__PURE__*/_jsx(Card.Header,{children:\"Mint your NFT\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"card-contents\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"p3\",htmlFor:\"title\",children:\"Title\"}),/*#__PURE__*/_jsx(InputGroup,{className:\"form-contents\",children:/*#__PURE__*/_jsx(FormControl,{id:\"title\",\"aria-label\":\"Title\",\"aria-describedby\":\"title\",value:title,onChange:function onChange(e){return setTitle(e.target.value);},type:\"text\"})}),/*#__PURE__*/_jsx(\"label\",{className:\"p3\",htmlFor:\"description\",children:\"Description\"}),/*#__PURE__*/_jsx(InputGroup,{className:\"form-contents\",children:/*#__PURE__*/_jsx(FormControl,{id:\"description\",\"aria-label\":\"Description\",\"aria-describedby\":\"description\",value:description,onChange:function onChange(e){return setDescription(e.target.value);},as:\"textarea\",rows:3})}),/*#__PURE__*/_jsx(\"label\",{className:\"p3\",htmlFor:\"wallet-address\",children:\"Wallet Address\"}),/*#__PURE__*/_jsx(InputGroup,{className:\"form-contents\",children:/*#__PURE__*/_jsx(FormControl,{id:\"address\",\"aria-label\":\"Wallet Address\",\"aria-describedby\":\"wallet-address\",value:address,onChange:function onChange(e){return setAddress(e.target.value);},type:\"text\"})}),/*#__PURE__*/_jsx(\"label\",{className:\"p3\",htmlFor:\"upload-nft\",children:\"Upload NFT\"}),/*#__PURE__*/_jsx(InputGroup,{className:\"form-contents\",children:/*#__PURE__*/_jsx(FormControl,{id:\"file\",type:\"file\",name:\"data\",onChange:retrieveFile})}),/*#__PURE__*/_jsxs(\"div\",{className:\"Button\",children:[/*#__PURE__*/_jsx(PButton,{type:\"submit\",onClick:handleSubmit,children:\"Mint NFT\"}),/*#__PURE__*/_jsx(ToastContainer,{position:\"top-right\",hideProgressBar:true})]})]})]}):/*#__PURE__*/_jsx(FinnCard,{setHomeView:setHomeView,setTitle:setTitle,setDescription:setDescription,setAddress:setAddress,transaction_hash:hash,ipfs_url:ipfs_url,wallet_address:address})});}","map":{"version":3,"sources":["/Users/jenniferhe/Documents/GitHub/oval/src/components/card/card.js"],"names":["PButton","SButton","TButton","Card","Form","Container","InputGroup","FormControl","React","useState","create","ToastContainer","toast","FinnCard","client","global","Buffer","require","FormCard","props","title","setTitle","description","setDescription","quantity","setQuantity","address","setAddress","file","setFile","ipfs_url","setIPFS","homeView","setHomeView","image_path","setPath","hash","setHash","retrieveFile","e","data","target","files","reader","window","FileReader","readAsArrayBuffer","onloadend","result","preventDefault","handleSubmit","add","created","url","path","console","log","success","message","value"],"mappings":"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","sourcesContent":["import \"./card.css\";\nimport { PButton, SButton, TButton } from \"../button/button\";\nimport \"react-toastify/dist/ReactToastify.css\";\nimport Card from \"react-bootstrap/Card\";\nimport Form from \"react-bootstrap/Form\";\nimport { Container, InputGroup, FormControl } from \"react-bootstrap\";\nimport React, { useState } from \"react\";\nimport { create } from \"ipfs-http-client\";\nimport { ToastContainer, toast } from 'react-toastify';\nimport { FinnCard } from \"./mint_result\";\n\nconst client = create(\"https://ipfs.infura.io:5001/api/v0\");\n\nglobal.Buffer = global.Buffer || require(\"buffer\").Buffer;\n\nexport function FormCard(props) {\n\tconst [title, setTitle] = useState(\"\");\n\tconst [description, setDescription] = useState(\"\");\n\tconst [quantity, setQuantity] = useState(0);\n\tconst [address, setAddress] = useState(\"\");\n\n\tconst [file, setFile] = useState(null); //file info for latest image\n\tconst [ipfs_url, setIPFS] = useState([]); //array of ipfs image urls\n\n\tconst[homeView, setHomeView] = useState(true);\n\n\tconst [image_path, setPath] = useState(\"./ipfs image.png\")\n\t// const [ipfs_url, setIPFS] = useState(\"https://ipfs.infura.io:dummyURL\")\n\t\n\tconst [hash, setHash] = useState(\"dummy-hash\") //will come from backend eventually\n\n\tconst retrieveFile = (e) => {\n\t\tconst data = e.target.files[0];\n\t\tconst reader = new window.FileReader();\n\t\treader.readAsArrayBuffer(data);\n\t\treader.onloadend = () => {\n\t\t\tsetFile(Buffer(reader.result));\n\t\t};\n\n\t\te.preventDefault();\n\t};\n\n\tconst handleSubmit = async (e) => {\n\t\t// console.log(`about to submit nft form. props = ${props}, props.setHome = ${props.setHome}.`)\n\t\te.preventDefault();\n\t\ttry {\n\t\t\tconst created = await client.add(file);\n\t\t\tconst url = `https://ipfs.infura.io/ipfs/${created.path}`;\n\t\t\tconsole.log(url);\n\t\t\tsetIPFS(url);\n\t\t\ttoast.success(\"NFT Minted!\");\n\t\t\tsetHomeView(false)\n\t\t} catch (error) {\n\t\t\tconsole.log(error.message);\n\t\t}\n\t};\n\n\treturn (\n\t\t<div className=\"all-card\">\n\t\t{homeView ? \n\t\t\t<Card>\n\t\t\t\t<Card.Header>Mint your NFT</Card.Header>\n\t\t\t\t<div className=\"card-contents\">\n\t\t\t\t\t<label className=\"p3\" htmlFor=\"title\">\n\t\t\t\t\t\tTitle\n\t\t\t\t\t</label>\n\t\t\t\t\t<InputGroup className=\"form-contents\">\n\t\t\t\t\t\t<FormControl\n\t\t\t\t\t\t\tid=\"title\"\n\t\t\t\t\t\t\taria-label=\"Title\"\n\t\t\t\t\t\t\taria-describedby=\"title\"\n\t\t\t\t\t\t\tvalue={title}\n\t\t\t\t\t\t\tonChange={(e) => setTitle(e.target.value)}\n\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</InputGroup>\n\t\t\t\t\t<label className=\"p3\" htmlFor=\"description\">\n\t\t\t\t\t\tDescription\n\t\t\t\t\t</label>\n\t\t\t\t\t<InputGroup className=\"form-contents\">\n\t\t\t\t\t\t<FormControl\n\t\t\t\t\t\t\tid=\"description\"\n\t\t\t\t\t\t\taria-label=\"Description\"\n\t\t\t\t\t\t\taria-describedby=\"description\"\n\t\t\t\t\t\t\tvalue={description}\n\t\t\t\t\t\t\tonChange={(e) => setDescription(e.target.value)}\n\t\t\t\t\t\t\tas=\"textarea\"\n\t\t\t\t\t\t\trows={3}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</InputGroup>\n\t\t\t\t\t{/* <label className=\"p3\" htmlFor=\"quantity\">\n\t\t\t\t\t\tQuantity\n\t\t\t\t\t</label>\n\t\t\t\t\t<InputGroup className=\"form-contents\">\n\t\t\t\t\t\t<FormControl\n\t\t\t\t\t\t\tid=\"quantity\"\n\t\t\t\t\t\t\taria-label=\"Quantity\"\n\t\t\t\t\t\t\taria-describedby=\"quantity\"\n\t\t\t\t\t\t\tvalue={quantity}\n\t\t\t\t\t\t\tonChange={(e) => setQuantity(e.target.value)}\n\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</InputGroup> */}\n\t\t\t\t\t<label className=\"p3\" htmlFor=\"wallet-address\">\n\t\t\t\t\t\tWallet Address\n\t\t\t\t\t</label>\n\t\t\t\t\t<InputGroup className=\"form-contents\">\n\t\t\t\t\t\t<FormControl\n\t\t\t\t\t\t\tid=\"address\"\n\t\t\t\t\t\t\taria-label=\"Wallet Address\"\n\t\t\t\t\t\t\taria-describedby=\"wallet-address\"\n\t\t\t\t\t\t\tvalue={address}\n\t\t\t\t\t\t\tonChange={(e) => setAddress(e.target.value)}\n\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</InputGroup>\n\t\t\t\t\t<label className=\"p3\" htmlFor=\"upload-nft\">\n\t\t\t\t\t\tUpload NFT\n\t\t\t\t\t</label>\n\t\t\t\t\t<InputGroup className=\"form-contents\">\n\t\t\t\t\t\t<FormControl id=\"file\" type=\"file\"\n\t\t\t\t\t\t\tname=\"data\"\n\t\t\t\t\t\t\tonChange={retrieveFile} />\n\t\t\t\t\t</InputGroup>\n\t\t\t\t\t<div className=\"Button\">\n\t\t\t\t\t\t<PButton type=\"submit\" onClick={handleSubmit}>Mint NFT</PButton>\n\t\t\t\t\t\t<ToastContainer position=\"top-right\" hideProgressBar={true} />\n\t\t\t\t\t</div>\n{/* \n\t\t\t\t\t<div className=\"display\">\n\t\t\t\t\t\t{ipfs_url.length !== 0 ? (\n\t\t\t\t\t\t\t<img src={ipfs_url} alt=\"nfts\" key={ipfs_url} width=\"40%\" height=\"40%\" />\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<div />\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div> */}\n\t\t\t\t</div>\n\t\t\t</Card> \n\t\t\t:\n\t\t\t<FinnCard setHomeView = {setHomeView} setTitle = {setTitle} setDescription = {setDescription} setAddress = {setAddress} transaction_hash = {hash} ipfs_url = {ipfs_url} wallet_address = {address}/>\n\n\t\t}\n\t\t</div>\n\t);\n}"]},"metadata":{},"sourceType":"module"}