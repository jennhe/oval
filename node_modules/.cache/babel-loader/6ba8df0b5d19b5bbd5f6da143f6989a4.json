{"ast":null,"code":"import _toConsumableArray from\"/Users/jenniferhe/Documents/GitHub/2022-Chia1/webapp/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _asyncToGenerator from\"/Users/jenniferhe/Documents/GitHub/2022-Chia1/webapp/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/jenniferhe/Documents/GitHub/2022-Chia1/webapp/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"/Users/jenniferhe/Documents/GitHub/2022-Chia1/webapp/node_modules/@babel/runtime/regenerator/index.js\";import\"./card.css\";import{PButton,SButton,TButton}from\"../button/button\";import\"react-toastify/dist/ReactToastify.css\";import Card from\"react-bootstrap/Card\";import Form from\"react-bootstrap/Form\";import{Container,InputGroup,FormControl}from\"react-bootstrap\";import React,{useState}from\"react\";import{create}from\"ipfs-http-client\";import{ToastContainer,toast}from'react-toastify';import'react-toastify/dist/ReactToastify.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var client=create(\"https://ipfs.infura.io:5001/api/v0\");global.Buffer=global.Buffer||require(\"buffer\").Buffer;export function FormCard(props){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),title=_useState2[0],setTitle=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),description=_useState4[0],setDescription=_useState4[1];var _useState5=useState(0),_useState6=_slicedToArray(_useState5,2),quantity=_useState6[0],setQuantity=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),address=_useState8[0],setAddress=_useState8[1];var _useState9=useState(null),_useState10=_slicedToArray(_useState9,2),file=_useState10[0],setFile=_useState10[1];var _useState11=useState([]),_useState12=_slicedToArray(_useState11,2),urlArr=_useState12[0],setUrlArr=_useState12[1];var retrieveFile=function retrieveFile(e){var data=e.target.files[0];var reader=new window.FileReader();reader.readAsArrayBuffer(data);reader.onloadend=function(){setFile(Buffer(reader.result));};e.preventDefault();};var handleSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){var created,url;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();_context.prev=1;_context.next=4;return client.add(file);case 4:created=_context.sent;url=\"https://ipfs.infura.io/ipfs/\".concat(created.path);console.log(url);setUrlArr(function(prev){return[].concat(_toConsumableArray(prev),[url]);});toast.success(\"NFT Minted! IPFS Hash: \"+url);_context.next=14;break;case 11:_context.prev=11;_context.t0=_context[\"catch\"](1);console.log(_context.t0.message);case 14:case\"end\":return _context.stop();}}},_callee,null,[[1,11]]);}));return function handleSubmit(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsx(\"div\",{className:\"all-card\",children:/*#__PURE__*/_jsxs(Card,{children:[/*#__PURE__*/_jsx(Card.Header,{children:\"Mint your NFT\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"card-contents\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"p3\",htmlFor:\"title\",children:\"Title\"}),/*#__PURE__*/_jsx(InputGroup,{className:\"form-contents\",children:/*#__PURE__*/_jsx(FormControl,{id:\"title\",\"aria-label\":\"Title\",\"aria-describedby\":\"title\",value:title,onChange:function onChange(e){return setTitle(e.target.value);},type:\"text\"})}),/*#__PURE__*/_jsx(\"label\",{className:\"p3\",htmlFor:\"description\",children:\"Description\"}),/*#__PURE__*/_jsx(InputGroup,{className:\"form-contents\",children:/*#__PURE__*/_jsx(FormControl,{id:\"description\",\"aria-label\":\"Description\",\"aria-describedby\":\"description\",value:description,onChange:function onChange(e){return setDescription(e.target.value);},as:\"textarea\",rows:3})}),/*#__PURE__*/_jsx(\"label\",{className:\"p3\",htmlFor:\"quantity\",children:\"Quantity\"}),/*#__PURE__*/_jsx(InputGroup,{className:\"form-contents\",children:/*#__PURE__*/_jsx(FormControl,{id:\"quantity\",\"aria-label\":\"Quantity\",\"aria-describedby\":\"quantity\",value:quantity,onChange:function onChange(e){return setQuantity(e.target.value);},type:\"number\"})}),/*#__PURE__*/_jsx(\"label\",{className:\"p3\",htmlFor:\"wallet-address\",children:\"Wallet Address\"}),/*#__PURE__*/_jsx(InputGroup,{className:\"form-contents\",children:/*#__PURE__*/_jsx(FormControl,{id:\"address\",\"aria-label\":\"Wallet Address\",\"aria-describedby\":\"wallet-address\",value:address,onChange:function onChange(e){return setAddress(e.target.value);},type:\"text\"})}),/*#__PURE__*/_jsx(\"label\",{className:\"p3\",htmlFor:\"upload-nft\",children:\"Upload NFT\"}),/*#__PURE__*/_jsx(InputGroup,{className:\"form-contents\",children:/*#__PURE__*/_jsx(FormControl,{id:\"file\",type:\"file\",name:\"data\",onChange:retrieveFile})}),/*#__PURE__*/_jsxs(\"div\",{className:\"Button\",children:[/*#__PURE__*/_jsx(PButton,{type:\"submit\",onClick:handleSubmit,children:\"Mint NFT\"}),/*#__PURE__*/_jsx(ToastContainer,{position:\"top-right\",hideProgressBar:true})]}),/*#__PURE__*/_jsx(\"div\",{className:\"display\",children:urlArr.length!==0?urlArr.map(function(el){return/*#__PURE__*/_jsx(\"img\",{src:el,alt:\"nfts\",width:\"40%\",height:\"40%\"},el);}):/*#__PURE__*/_jsx(\"div\",{})})]})]})});}","map":{"version":3,"sources":["/Users/jenniferhe/Documents/GitHub/2022-Chia1/webapp/src/components/card/card.js"],"names":["PButton","SButton","TButton","Card","Form","Container","InputGroup","FormControl","React","useState","create","ToastContainer","toast","client","global","Buffer","require","FormCard","props","title","setTitle","description","setDescription","quantity","setQuantity","address","setAddress","file","setFile","urlArr","setUrlArr","retrieveFile","e","data","target","files","reader","window","FileReader","readAsArrayBuffer","onloadend","result","preventDefault","handleSubmit","add","created","url","path","console","log","prev","success","message","value","length","map","el"],"mappings":"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","sourcesContent":["import \"./card.css\";\nimport { PButton, SButton, TButton } from \"../button/button\";\nimport \"react-toastify/dist/ReactToastify.css\";\nimport Card from \"react-bootstrap/Card\";\nimport Form from \"react-bootstrap/Form\";\nimport { Container, InputGroup, FormControl } from \"react-bootstrap\";\nimport React, { useState } from \"react\";\nimport { create } from \"ipfs-http-client\";\nimport { ToastContainer, toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\n\nconst client = create(\"https://ipfs.infura.io:5001/api/v0\");\n\nglobal.Buffer = global.Buffer || require(\"buffer\").Buffer;\n\nexport function FormCard(props) {\n\tconst [title, setTitle] = useState(\"\");\n\tconst [description, setDescription] = useState(\"\");\n\tconst [quantity, setQuantity] = useState(0);\n\tconst [address, setAddress] = useState(\"\");\n\n\tconst [file, setFile] = useState(null);\n\tconst [urlArr, setUrlArr] = useState([]);\n\n\tconst retrieveFile = (e) => {\n\t\tconst data = e.target.files[0];\n\t\tconst reader = new window.FileReader();\n\t\treader.readAsArrayBuffer(data);\n\t\treader.onloadend = () => {\n\t\t\tsetFile(Buffer(reader.result));\n\t\t};\n\n\t\te.preventDefault();\n\t};\n\n\tconst handleSubmit = async (e) => {\n\t\te.preventDefault();\n\t\ttry {\n\t\t\tconst created = await client.add(file);\n\t\t\tconst url = `https://ipfs.infura.io/ipfs/${created.path}`;\n\t\t\tconsole.log(url);\n\t\t\tsetUrlArr((prev) => [...prev, url]);\n\t\t\ttoast.success(\"NFT Minted! IPFS Hash: \" + url);\n\t\t} catch (error) {\n\t\t\tconsole.log(error.message);\n\t\t}\n\t};\n\n\treturn (\n\t\t<div className=\"all-card\">\n\t\t\t<Card>\n\t\t\t\t<Card.Header>Mint your NFT</Card.Header>\n\t\t\t\t<div className=\"card-contents\">\n\t\t\t\t\t<label className=\"p3\" htmlFor=\"title\">\n\t\t\t\t\t\tTitle\n\t\t\t\t\t</label>\n\t\t\t\t\t<InputGroup className=\"form-contents\">\n\t\t\t\t\t\t<FormControl\n\t\t\t\t\t\t\tid=\"title\"\n\t\t\t\t\t\t\taria-label=\"Title\"\n\t\t\t\t\t\t\taria-describedby=\"title\"\n\t\t\t\t\t\t\tvalue={title}\n\t\t\t\t\t\t\tonChange={(e) => setTitle(e.target.value)}\n\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</InputGroup>\n\t\t\t\t\t<label className=\"p3\" htmlFor=\"description\">\n\t\t\t\t\t\tDescription\n\t\t\t\t\t</label>\n\t\t\t\t\t<InputGroup className=\"form-contents\">\n\t\t\t\t\t\t<FormControl\n\t\t\t\t\t\t\tid=\"description\"\n\t\t\t\t\t\t\taria-label=\"Description\"\n\t\t\t\t\t\t\taria-describedby=\"description\"\n\t\t\t\t\t\t\tvalue={description}\n\t\t\t\t\t\t\tonChange={(e) => setDescription(e.target.value)}\n\t\t\t\t\t\t\tas=\"textarea\"\n\t\t\t\t\t\t\trows={3}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</InputGroup>\n\t\t\t\t\t<label className=\"p3\" htmlFor=\"quantity\">\n\t\t\t\t\t\tQuantity\n\t\t\t\t\t</label>\n\t\t\t\t\t<InputGroup className=\"form-contents\">\n\t\t\t\t\t\t<FormControl\n\t\t\t\t\t\t\tid=\"quantity\"\n\t\t\t\t\t\t\taria-label=\"Quantity\"\n\t\t\t\t\t\t\taria-describedby=\"quantity\"\n\t\t\t\t\t\t\tvalue={quantity}\n\t\t\t\t\t\t\tonChange={(e) => setQuantity(e.target.value)}\n\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</InputGroup>\n\t\t\t\t\t<label className=\"p3\" htmlFor=\"wallet-address\">\n\t\t\t\t\t\tWallet Address\n\t\t\t\t\t</label>\n\t\t\t\t\t<InputGroup className=\"form-contents\">\n\t\t\t\t\t\t<FormControl\n\t\t\t\t\t\t\tid=\"address\"\n\t\t\t\t\t\t\taria-label=\"Wallet Address\"\n\t\t\t\t\t\t\taria-describedby=\"wallet-address\"\n\t\t\t\t\t\t\tvalue={address}\n\t\t\t\t\t\t\tonChange={(e) => setAddress(e.target.value)}\n\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</InputGroup>\n\t\t\t\t\t<label className=\"p3\" htmlFor=\"upload-nft\">\n\t\t\t\t\t\tUpload NFT\n\t\t\t\t\t</label>\n\t\t\t\t\t<InputGroup className=\"form-contents\">\n\t\t\t\t\t\t<FormControl id=\"file\" type=\"file\"\n\t\t\t\t\t\t\tname=\"data\"\n\t\t\t\t\t\t\tonChange={retrieveFile} />\n\t\t\t\t\t</InputGroup>\n\t\t\t\t\t<div className=\"Button\">\n\t\t\t\t\t\t<PButton type=\"submit\" onClick={handleSubmit}>Mint NFT</PButton>\n\t\t\t\t\t\t<ToastContainer position=\"top-right\" hideProgressBar={true} />\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div className=\"display\">\n\t\t\t\t\t\t{urlArr.length !== 0 ? (\n\t\t\t\t\t\t\turlArr.map((el) => (\n\t\t\t\t\t\t\t\t<img src={el} alt=\"nfts\" key={el} width=\"40%\" height=\"40%\" />\n\t\t\t\t\t\t\t))\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<div />\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</Card>\n\t\t</div>\n\t);\n}"]},"metadata":{},"sourceType":"module"}